import{a as l,o as ie}from"./chunk-QMGIS6GS-DtoyICqO.js";import{r as oe,t as j}from"./Stack-JCjNLC7t.js";import{u as le}from"./Popper-DEf3PWv7.js";function B(t,e,r=(n,s)=>n===s){return t.length===e.length&&t.every((n,s)=>r(n,e[s]))}function ue(t,e){return t===e}const O={},U=()=>{};function T(t,e){const r={...t};return Object.keys(e).forEach(n=>{e[n]!==void 0&&(r[n]=e[n])}),r}function ae(t){const{nextState:e,initialState:r,stateComparers:n,onStateChange:s,controlledProps:o,lastActionRef:i}=t,f=l.useRef(r);l.useEffect(()=>{if(i.current===null)return;const d=T(f.current,o);Object.keys(e).forEach(a=>{const C=n[a]??ue,u=e[a],c=d[a];(c==null&&u!=null||c!=null&&u==null||c!=null&&u!=null&&!C(u,c))&&s?.(i.current.event??null,a,u,i.current.type??"",e)}),f.current=e,i.current=null},[f,e,i,s,n,o])}function ce(t){const e=l.useRef(null),{reducer:r,initialState:n,controlledProps:s=O,stateComparers:o=O,onStateChange:i=U,actionContext:f,componentName:d=""}=t;l.useRef(s);const a=l.useCallback((g,m)=>{e.current=m;const V=T(g,s);return r(V,m)},[s,r]),[C,u]=l.useReducer(a,n),c=l.useCallback(g=>{u({...g,context:f})},[f]);return ae({nextState:C,initialState:n,stateComparers:o??O,onStateChange:i??U,controlledProps:s,lastActionRef:e}),[T(C,s),c]}const I={blur:"list:blur",itemClick:"list:itemClick",itemHover:"list:itemHover",itemsChange:"list:itemsChange",keyDown:"list:keyDown",resetHighlight:"list:resetHighlight",highlightLast:"list:highlightLast",textNavigation:"list:textNavigation",clearSelection:"list:clearSelection"};function he(t,e,r,n,s,o){if(r.length===0||!n&&r.every((f,d)=>s(f,d)))return-1;let i=t;for(;;){if(!o&&e==="next"&&i===r.length||!o&&e==="previous"&&i===-1)return-1;if(n?!1:s(r[i],i))i+=e==="next"?1:-1,o&&(i=(i+r.length)%r.length);else return i}}function x(t,e,r){const{items:n,isItemDisabled:s,disableListWrap:o,disabledItemsFocusable:i,itemComparer:f,focusManagement:d}=r,a=d==="DOM"?0:-1,C=n.length-1,u=t==null?-1:n.findIndex(S=>f(S,t));let c,g,m=!o;switch(e){case"reset":if(a===-1)return null;c=0,g="next",m=!1;break;case"start":c=0,g="next",m=!1;break;case"end":c=C,g="previous",m=!1;break;default:{const S=u+e;S<0?!m&&u!==-1||Math.abs(e)>1?(c=0,g="next"):(c=C,g="previous"):S>C?!m||Math.abs(e)>1?(c=C,g="previous"):(c=0,g="next"):(c=S,g=e>=0?"next":"previous")}}const V=he(c,g,n,i,s,m);return V===-1&&t!==null&&!s(t,u)?t:n[V]??null}function de(t,e,r,n){return r==="none"?[]:r==="single"?n(e[0],t)?e:[t]:e.some(s=>n(s,t))?e.filter(s=>!n(s,t)):[...e,t]}function G(t,e,r){const{itemComparer:n,isItemDisabled:s,selectionMode:o,items:i}=r,{selectedValues:f}=e,d=i.findIndex(C=>n(t,C));if(s(t,d))return e;const a=de(t,f,o,n);return{...e,selectedValues:a,highlightedValue:t}}function ge(t,e,r){const n=e.highlightedValue,{orientation:s,pageSize:o}=r;switch(t){case"Home":return{...e,highlightedValue:x(n,"start",r)};case"End":return{...e,highlightedValue:x(n,"end",r)};case"PageUp":return{...e,highlightedValue:x(n,-o,r)};case"PageDown":return{...e,highlightedValue:x(n,o,r)};case"ArrowUp":if(s!=="vertical")break;return{...e,highlightedValue:x(n,-1,r)};case"ArrowDown":if(s!=="vertical")break;return{...e,highlightedValue:x(n,1,r)};case"ArrowLeft":{if(s==="vertical")break;return{...e,highlightedValue:x(n,s==="horizontal-ltr"?-1:1,r)}}case"ArrowRight":{if(s==="vertical")break;return{...e,highlightedValue:x(n,s==="horizontal-ltr"?1:-1,r)}}case"Enter":case" ":return e.highlightedValue===null?e:G(e.highlightedValue,e,r)}return e}function fe(t,e){return e.focusManagement==="DOM"?t:{...t,highlightedValue:null}}function me(t,e,r){const n=r(t)?.trim().toLowerCase();return!n||n.length===0?!1:n.startsWith(e)}function Ce(t,e,r){const{items:n,isItemDisabled:s,disabledItemsFocusable:o,getItemAsString:i}=r,f=e.length>1;let d=f?t.highlightedValue:x(t.highlightedValue,1,r);for(let a=0;a<n.length;a+=1){if(!d||!f&&t.highlightedValue===d)return t;if(me(d,e,i)&&(!s(d,n.indexOf(d))||o))return{...t,highlightedValue:d};d=x(d,1,r)}return t}function pe(t,e,r,n){const{itemComparer:s,focusManagement:o}=n;let i=null;r.highlightedValue!=null?i=t.find(a=>s(a,r.highlightedValue))??null:o==="DOM"&&e.length===0&&(i=x(null,"reset",n));const d=(r.selectedValues??[]).filter(a=>t.some(C=>s(C,a)));return{...r,highlightedValue:i,selectedValues:d}}function Ie(t,e){return{...t,highlightedValue:x(null,"reset",e)}}function be(t,e){return{...t,highlightedValue:x(null,"end",e)}}function xe(t,e){return{...t,selectedValues:[],highlightedValue:x(null,"reset",e)}}function Se(t,e){const{type:r,context:n}=e;switch(r){case I.keyDown:return ge(e.key,t,n);case I.itemClick:return G(e.item,t,n);case I.blur:return fe(t,n);case I.textNavigation:return Ce(t,e.searchString,n);case I.itemsChange:return pe(e.items,e.previousItems,t,n);case I.resetHighlight:return Ie(t,n);case I.highlightLast:return be(t,n);case I.clearSelection:return xe(t,n);default:return t}}const we=500;function Ve(t){const e=l.useRef({searchString:"",lastTime:null});return l.useCallback(r=>{if(r.key.length===1&&r.key!==" "){const n=e.current,s=r.key.toLowerCase(),o=performance.now();n.searchString.length>0&&n.lastTime&&o-n.lastTime>we?n.searchString=s:(n.searchString.length!==1||s!==n.searchString)&&(n.searchString+=s),n.lastTime=o,t(n.searchString,r)}},[t])}const W={},ve=()=>{},ke=(t,e)=>t===e,De=()=>!1,Re=t=>typeof t=="string"?t:String(t),ye=()=>({highlightedValue:null,selectedValues:[]});function Ne(t){const{controlledProps:e=W,disabledItemsFocusable:r=!1,disableListWrap:n=!1,focusManagement:s="activeDescendant",getInitialState:o=ye,getItemDomElement:i,getItemId:f,isItemDisabled:d=De,rootRef:a,onStateChange:C=ve,items:u,itemComparer:c=ke,getItemAsString:g=Re,onChange:m,onHighlightChange:V,onItemsChange:S,orientation:y="vertical",pageSize:H=5,reducerActionContext:A=W,selectionMode:N="single",stateReducer:q,componentName:J="useList"}=t,L=l.useRef(null),_=oe(a,L),k=l.useCallback((p,h,b)=>{V?.(p,h,b),s==="DOM"&&h!=null&&(b===I.itemClick||b===I.keyDown||b===I.textNavigation)&&i?.(h)?.focus()},[i,V,s]),E=l.useMemo(()=>({highlightedValue:c,selectedValues:(p,h)=>B(p,h,c)}),[c]),Y=l.useCallback((p,h,b,D,R)=>{switch(C?.(p,h,b,D,R),h){case"highlightedValue":k(p,b,D);break;case"selectedValues":m?.(p,b,D);break}},[k,m,C]),F=l.useMemo(()=>({disabledItemsFocusable:r,disableListWrap:n,focusManagement:s,isItemDisabled:d,itemComparer:c,items:u,getItemAsString:g,onHighlightChange:k,orientation:y,pageSize:H,selectionMode:N,stateComparers:E}),[r,n,s,d,c,u,g,k,y,H,N,E]),X=o(),Q=q??Se,Z=l.useMemo(()=>({...A,...F}),[A,F]),[M,w]=ce({reducer:Q,actionContext:Z,initialState:X,controlledProps:e,stateComparers:E,onStateChange:Y,componentName:J}),{highlightedValue:v,selectedValues:K}=M,ee=Ve((p,h)=>w({type:I.textNavigation,event:h,searchString:p})),P=l.useRef([]);l.useEffect(()=>{B(P.current,u,c)||(w({type:I.itemsChange,event:null,items:u,previousItems:P.current}),P.current=u,S?.(u))},[u,c,w,S]);const te=p=>h=>{if(p.onKeyDown?.(h),h.defaultMuiPrevented)return;const b=["Home","End","PageUp","PageDown"];y==="vertical"?b.push("ArrowUp","ArrowDown"):b.push("ArrowLeft","ArrowRight"),s==="activeDescendant"&&b.push(" ","Enter"),b.includes(h.key)&&h.preventDefault(),w({type:I.keyDown,key:h.key,event:h}),ee(h)},ne=p=>h=>{p.onBlur?.(h),!h.defaultMuiPrevented&&(L.current?.contains(h.relatedTarget)||w({type:I.blur,event:h}))},re=(p={})=>{const h=j(p);return{...p,"aria-activedescendant":s==="activeDescendant"&&v!=null?f(v):void 0,tabIndex:s==="DOM"?-1:0,ref:_,...h,onBlur:ne(h),onKeyDown:te(h)}},z=l.useCallback(p=>{const h=(K??[]).some(R=>R!=null&&c(p,R)),b=v!=null&&c(p,v);return{focusable:s==="DOM",highlighted:b,selected:h}},[c,K,v,s]),se=l.useMemo(()=>({dispatch:w,getItemState:z}),[w,z]);return l.useDebugValue({state:M}),{contextValue:se,dispatch:w,getRootProps:re,rootRef:_,state:M}}const Ee=l.createContext(null);function Le(t){const{handlePointerOverEvents:e=!1,item:r}=t,n=l.useContext(Ee);if(!n)throw new Error("useListItem must be used within a ListProvider");const{dispatch:s,getItemState:o}=n,{highlighted:i,selected:f,focusable:d}=o(r),a=l.useCallback(g=>m=>{g.onClick?.(m),!m.defaultPrevented&&s({type:I.itemClick,item:r,event:m})},[s,r]),C=l.useCallback(g=>m=>{g.onMouseOver?.(m),!m.defaultPrevented&&s({type:I.itemHover,item:r,event:m})},[s,r]);let u;return d&&(u=i?0:-1),{getRootProps:(g={})=>{const m=j(g);return{...g,onClick:a(m),onPointerOver:e?C(m):void 0,tabIndex:u}},highlighted:i,selected:f}}const Me=l.createContext(null);function Pe(t){const e=Array.from(t.keys()).map(r=>{const n=t.get(r);return{key:r,subitem:n}});return e.sort((r,n)=>{const s=r.subitem.ref.current,o=n.subitem.ref.current;return s===null||o===null||s===o?0:s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_PRECEDING?1:-1}),new Map(e.map(r=>[r.key,r.subitem]))}function _e(){const[t,e]=l.useState(new Map),r=l.useRef(new Set),n=l.useCallback(function(a){r.current.delete(a),e(C=>{const u=new Map(C);return u.delete(a),u})},[]),s=l.useCallback(function(a,C){let u;return typeof a=="function"?u=a(r.current):u=a,r.current.add(u),e(c=>{const g=new Map(c);return g.set(u,C),g}),{id:u,deregister:()=>n(u)}},[n]),o=l.useMemo(()=>Pe(t),[t]),i=l.useCallback(function(a){return Array.from(o.keys()).indexOf(a)},[o]);return{contextValue:l.useMemo(()=>({getItemIndex:i,registerItem:s,totalSubitemCount:t.size}),[i,s,t.size]),subitems:o}}function Fe(t,e){const r=l.useContext(Me);if(r===null)throw new Error("useCompoundItem must be used within a useCompoundParent");const{registerItem:n}=r,[s,o]=l.useState(typeof t=="function"?void 0:t);return le(()=>{const{id:i,deregister:f}=n(t,e);return o(i),f},[n,e,t]),{id:s,index:s!==void 0?r.getItemIndex(s):-1,totalItemCount:r.totalSubitemCount}}function Ke(t,e){return function(n={}){const s={...n,...t(n)};return{...s,...e(s)}}}const $=l.createContext(void 0);function Oe(t,e){let r=e,n=t;return t==="outlined"&&(r="neutral",n="plain"),t==="plain"&&(r="neutral"),{variant:n,color:r}}function ze(t,e,r=!1){const n=l.useContext($),[s,o]=typeof n=="string"?n.split(":"):[],i=Oe(s||void 0,o||void 0);return i.variant=t||i.variant,i.color=e||(r?o:i.color),i}function Be({children:t,color:e,variant:r}){return ie.jsx($.Provider,{value:`${r||""}:${e||""}`,children:t})}const Ue=["Σ(°∇°?!)","∘ ∘ ∘ ( °ヮ° ) ?","(O_O)!","(＃°Д°)","（*゜ー゜*）","(°ー°〃)","(。_。)","ㄟ( ▔, ▔ )ㄏ","(￣_￣|||)"];export{Me as C,Ee as L,Be as V,Fe as a,I as b,Ke as c,_e as d,Ne as e,ze as f,ce as g,G as h,Se as l,x as m,Ue as n,Le as u};
