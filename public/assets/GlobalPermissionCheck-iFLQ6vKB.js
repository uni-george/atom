import{g as F,a as M,u as E,_ as L,b as i,c as C,s as A,d as w,j as h,e as G}from"./Box-DYWOHMTh.js";import{a as n,o as a,p as H}from"./chunk-QMGIS6GS-IYNE5lo-.js";import{c as D}from"./createSvgIcon-B5DNpR_6.js";import{A as O}from"./APIManager-DjZ2JeQn.js";import{E as q,S as K}from"./ErrorCard-B4H1QsYl.js";import{S as _,T}from"./Stack-BtWcuzwx.js";import{L as Q}from"./LinearProgress-CQVqLp0U.js";function Y(e){return F("MuiSvgIcon",e)}M("MuiSvgIcon",["root","colorInherit","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","fontSizeInherit","fontSizeXs","fontSizeSm","fontSizeMd","fontSizeLg","fontSizeXl","fontSizeXl2","fontSizeXl3","fontSizeXl4","sizeSm","sizeMd","sizeLg"]);const Z=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox","size","slots","slotProps"],oo=e=>{const{color:o,size:t,fontSize:s}=e,r={root:["root",o&&o!=="inherit"&&`color${h(o)}`,t&&`size${h(t)}`,s&&`fontSize${h(s)}`]};return G(r,Y,{})},$={sm:"xl",md:"xl2",lg:"xl3"},eo=A("svg",{name:"JoySvgIcon",slot:"Root",overridesResolver:(e,o)=>o.root})(({theme:e,ownerState:o})=>{var t;return i({},o.instanceSize&&{"--Icon-fontSize":e.vars.fontSize[$[o.instanceSize]]},o.instanceFontSize&&o.instanceFontSize!=="inherit"&&{"--Icon-fontSize":e.vars.fontSize[o.instanceFontSize]},{userSelect:"none",margin:"var(--Icon-margin)",width:"1em",height:"1em",display:"inline-block",fill:o.hasSvgAsChild?void 0:"currentColor",flexShrink:0,fontSize:`var(--Icon-fontSize, ${e.vars.fontSize[$[o.size]]||"unset"})`},o.fontSize&&o.fontSize!=="inherit"&&{fontSize:`var(--Icon-fontSize, ${e.fontSize[o.fontSize]})`},!o.htmlColor&&i({color:`var(--Icon-color, ${e.vars.palette.text.icon})`},o.color==="inherit"&&{color:"inherit"},o.color!=="inherit"&&e.vars.palette[o.color]&&{color:`rgba(${(t=e.vars.palette[o.color])==null?void 0:t.mainChannel} / 1)`}))}),N=n.forwardRef(function(o,t){const s=E({props:o,name:"JoySvgIcon"}),{children:r,className:l,color:c,component:v="svg",fontSize:u,htmlColor:m,inheritViewBox:p=!1,titleAccess:d,viewBox:I="0 0 24 24",size:b="md",slots:P={},slotProps:j={}}=s,k=L(s,Z),z=n.isValidElement(r)&&r.type==="svg",y=i({},s,{color:c,component:v,size:b,instanceSize:o.size,fontSize:u,instanceFontSize:o.fontSize,inheritViewBox:p,viewBox:I,hasSvgAsChild:z}),f=oo(y),g=i({},k,{component:v,slots:P,slotProps:j}),[S,x]=C("root",{ref:t,className:w(f.root,l),elementType:eo,externalForwardedProps:g,ownerState:y,additionalProps:i({color:m,focusable:!1},d&&{role:"img"},!d&&{"aria-hidden":!0},!p&&{viewBox:I},z&&r.props)});return a.jsxs(S,i({},x,{children:[z?r.props.children:r,d?a.jsx("title",{children:d}):null]}))});function to(e,o){function t(s,r){return a.jsx(N,i({"data-testid":`${o}Icon`,ref:r},s,{children:e}))}return t.muiName=N.muiName,n.memo(n.forwardRef(t))}const ro=to(a.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function so(e){return F("MuiAvatar",e)}M("MuiAvatar",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","fallback","sizeSm","sizeMd","sizeLg","img","variantOutlined","variantSoft","variantSolid"]);const ao=n.createContext(void 0);A("div",{name:"JoyAvatarGroup",slot:"Root",overridesResolver:(e,o)=>o.root})(({ownerState:e,theme:o})=>i({},e.size==="sm"&&{"--AvatarGroup-gap":"-0.375rem","--Avatar-ringSize":"2px"},e.size==="md"&&{"--AvatarGroup-gap":"-0.5rem","--Avatar-ringSize":"2px"},e.size==="lg"&&{"--AvatarGroup-gap":"-0.625rem","--Avatar-ringSize":"4px"},{"--Avatar-ring":`0 0 0 var(--Avatar-ringSize) var(--Avatar-ringColor, ${o.vars.palette.background.surface})`,"--Avatar-marginInlineStart":"var(--AvatarGroup-gap)",display:"flex",marginInlineStart:"calc(-1 * var(--AvatarGroup-gap))"}));const io=["alt","color","size","variant","src","srcSet","children","component","slots","slotProps"],no=e=>{const{size:o,variant:t,color:s,src:r,srcSet:l}=e,c={root:["root",t&&`variant${h(t)}`,s&&`color${h(s)}`,o&&`size${h(o)}`],img:[(r||l)&&"img"],fallback:["fallback"]};return G(c,so,{})},lo=A("div",{name:"JoyAvatar",slot:"Root",overridesResolver:(e,o)=>o.root})(({theme:e,ownerState:o})=>{var t;return i({"--Icon-color":o.color!=="neutral"||o.variant==="solid"?"currentColor":e.vars.palette.text.icon},e.typography[`title-${o.size}`],o.size==="sm"&&{width:"var(--Avatar-size, 2rem)",height:"var(--Avatar-size, 2rem)",fontSize:"calc(var(--Avatar-size, 2rem) * 0.4375)"},o.size==="md"&&{width:"var(--Avatar-size, 2.5rem)",height:"var(--Avatar-size, 2.5rem)",fontSize:"calc(var(--Avatar-size, 2.5rem) * 0.4)"},o.size==="lg"&&{width:"var(--Avatar-size, 3rem)",height:"var(--Avatar-size, 3rem)",fontSize:"calc(var(--Avatar-size, 3rem) * 0.375)"},{marginInlineStart:"var(--Avatar-marginInlineStart)",boxShadow:"var(--Avatar-ring)",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,lineHeight:1,overflow:"hidden",borderRadius:"var(--Avatar-radius, 50%)",userSelect:"none"},(t=e.variants[o.variant])==null?void 0:t[o.color])}),co=A("img",{name:"JoyAvatar",slot:"Img",overridesResolver:(e,o)=>o.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),vo=A(ro,{name:"JoyAvatar",slot:"Fallback",overridesResolver:(e,o)=>o.fallback})({width:"64%",height:"64%"});function mo({crossOrigin:e,referrerPolicy:o,src:t,srcSet:s}){const[r,l]=n.useState(!1);return n.useEffect(()=>{if(!t&&!s)return;l(!1);let c=!0;const v=new Image;return v.onload=()=>{c&&l("loaded")},v.onerror=()=>{c&&l("error")},v.crossOrigin=e,v.referrerPolicy=o,t&&(v.src=t),s&&(v.srcset=s),()=>{c=!1}},[e,o,t,s]),r}const yo=n.forwardRef(function(o,t){const s=E({props:o,name:"JoyAvatar"}),r=n.useContext(ao),{alt:l,color:c="neutral",size:v="md",variant:u="soft",src:m,srcSet:p,children:d,component:I,slots:b={},slotProps:P={}}=s,j=L(s,io),k=o.variant||r?.variant||u,z=o.color||r?.color||c,y=o.size||r?.size||v;let f=null;const g=i({},s,{color:z,size:y,variant:k,grouped:!!r}),S=no(g),x=i({},j,{component:I,slots:b,slotProps:P}),[J,U]=C("root",{ref:t,className:S.root,elementType:lo,externalForwardedProps:x,ownerState:g}),[B,R]=C("img",{additionalProps:{alt:l,src:m,srcSet:p},className:S.img,elementType:co,externalForwardedProps:x,ownerState:g}),[W,X]=C("fallback",{className:S.fallback,elementType:vo,externalForwardedProps:x,ownerState:g}),V=mo(i({},R,{src:m,srcSet:p}));return(m||p)&&V!=="error"?f=a.jsx(B,i({},R)):d!=null?f=d:l?f=l[0]:f=a.jsx(W,i({},X)),a.jsx(J,i({},U,{children:f}))}),Co=D(a.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.9 13.98l2.1 2.53 3.1-3.99c.2-.26.6-.26.8.01l3.51 4.68c.25.33.01.8-.4.8H6.02c-.42 0-.65-.48-.39-.81L8.12 14c.19-.26.57-.27.78-.02"})),bo=({permissions:e,centerVertically:o,redirect:t,children:s})=>{const[r,l]=n.useState(void 0),[c,v]=n.useState(!0),[u,m]=n.useState(!1),p=H();return n.useEffect(()=>{O.permission.me().then(d=>{l(d)}).catch(()=>{throw new Error("Server could not be accessed.")}).finally(()=>{v(!1)})},[]),n.useEffect(()=>{r&&(e.every(d=>r[d]||!1)?m(!0):m(!1))},[r]),!c&&!u&&t&&p(t),c||!u?a.jsx(_,{justifyContent:"center",alignItems:"center",width:"100%",height:o?"100%":"unset",children:c?a.jsx(po,{}):a.jsx(q,{title:"no access",sx:{maxWidth:"400px"},code:"ERR_INSUFFICIENT_PERMISSION",children:a.jsx(T,{children:"apologies, but you don't have the sufficient permissions to access this feature. if you think this is a mistake, please contact an administrator."})})}):s},po=()=>a.jsx(K,{variant:"outlined",sx:{p:2,borderRadius:e=>e.radius.md},children:a.jsxs(_,{direction:"column",alignItems:"center",gap:2,children:[a.jsx(T,{level:"body-xs",sx:{"&::after":{content:"'\\2026'",display:"inline-block",verticalAlign:"bottom",overflow:"hidden",animation:"ellipsis steps(4, end) 1500ms infinite",width:0},"@keyframes ellipsis":{to:{width:"12px"}}},children:"checking permissions"}),a.jsx(Q,{sx:{minWidth:"130px"}})]})});export{yo as A,bo as G,Co as I};
