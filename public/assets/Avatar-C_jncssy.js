import{o as m,a as c}from"./chunk-QMGIS6GS-DtoyICqO.js";import{g as M,a as T,s as p,u as U,b as A,f as z,h as E}from"./Stack-JCjNLC7t.js";import{c as L}from"./createSvgIcon-D815fwpB.js";const w=L(m.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function D(r){return M("MuiAvatar",r)}T("MuiAvatar",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","fallback","sizeSm","sizeMd","sizeLg","img","variantOutlined","variantSoft","variantSolid"]);const H=c.createContext(void 0);p("div",{name:"JoyAvatarGroup",slot:"Root",overridesResolver:(r,a)=>a.root})(({ownerState:r,theme:a})=>({...r.size==="sm"&&{"--AvatarGroup-gap":"-0.375rem","--Avatar-ringSize":"2px"},...r.size==="md"&&{"--AvatarGroup-gap":"-0.5rem","--Avatar-ringSize":"2px"},...r.size==="lg"&&{"--AvatarGroup-gap":"-0.625rem","--Avatar-ringSize":"4px"},"--Avatar-ring":`0 0 0 var(--Avatar-ringSize) var(--Avatar-ringColor, ${a.vars.palette.background.surface})`,"--Avatar-marginInlineStart":"var(--AvatarGroup-gap)",display:"flex",marginInlineStart:"calc(-1 * var(--AvatarGroup-gap))"}));const O=r=>{const{size:a,variant:e,color:t,src:s,srcSet:o}=r,l={root:["root",e&&`variant${z(e)}`,t&&`color${z(t)}`,a&&`size${z(a)}`],img:[(s||o)&&"img"],fallback:["fallback"]};return E(l,D,{})},W=p("div",{name:"JoyAvatar",slot:"Root",overridesResolver:(r,a)=>a.root})(({theme:r,ownerState:a})=>({"--Icon-color":a.color!=="neutral"||a.variant==="solid"?"currentColor":r.vars.palette.text.icon,...r.typography[`title-${a.size}`],...a.size==="sm"&&{width:"var(--Avatar-size, 2rem)",height:"var(--Avatar-size, 2rem)",fontSize:"calc(var(--Avatar-size, 2rem) * 0.4375)"},...a.size==="md"&&{width:"var(--Avatar-size, 2.5rem)",height:"var(--Avatar-size, 2.5rem)",fontSize:"calc(var(--Avatar-size, 2.5rem) * 0.4)"},...a.size==="lg"&&{width:"var(--Avatar-size, 3rem)",height:"var(--Avatar-size, 3rem)",fontSize:"calc(var(--Avatar-size, 3rem) * 0.375)"},marginInlineStart:"var(--Avatar-marginInlineStart)",boxShadow:"var(--Avatar-ring)",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,lineHeight:1,overflow:"hidden",borderRadius:"var(--Avatar-radius, 50%)",userSelect:"none",...r.variants[a.variant]?.[a.color]})),q=p("img",{name:"JoyAvatar",slot:"Img",overridesResolver:(r,a)=>a.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),B=p(w,{name:"JoyAvatar",slot:"Fallback",overridesResolver:(r,a)=>a.fallback})({width:"64%",height:"64%"});function K({crossOrigin:r,referrerPolicy:a,src:e,srcSet:t}){const[s,o]=c.useState(!1);return c.useEffect(()=>{if(!e&&!t)return;o(!1);let l=!0;const i=new Image;return i.onload=()=>{l&&o("loaded")},i.onerror=()=>{l&&o("error")},i.crossOrigin=r,i.referrerPolicy=a,e&&(i.src=e),t&&(i.srcset=t),()=>{l=!1}},[r,a,e,t]),s}const _=c.forwardRef(function(a,e){const t=U({props:a,name:"JoyAvatar"}),s=c.useContext(H),{alt:o,color:l="neutral",size:i="md",variant:y="soft",src:g,srcSet:d,children:h,component:I,slots:b={},slotProps:S={},...C}=t,k=a.variant||s?.variant||y,P=a.color||s?.color||l,R=a.size||s?.size||i;let n=null;const v={...t,color:P,size:R,variant:k,grouped:!!s},u=O(v),f={...C,component:I,slots:b,slotProps:S},[j,F]=A("root",{ref:e,className:u.root,elementType:W,externalForwardedProps:f,ownerState:v}),[G,x]=A("img",{additionalProps:{alt:o,src:g,srcSet:d},className:u.img,elementType:q,externalForwardedProps:f,ownerState:v}),[N,J]=A("fallback",{className:u.fallback,elementType:B,externalForwardedProps:f,ownerState:v}),$=K({...x,src:g,srcSet:d});return(g||d)&&$!=="error"?n=m.jsx(G,{...x}):h!=null?n=h:o?n=o[0]:n=m.jsx(N,{...J}),m.jsx(j,{...F,children:n})});export{_ as A};
