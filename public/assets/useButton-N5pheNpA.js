import{i as v,b as D,z as F}from"./Box-DYWOHMTh.js";import{a as c}from"./chunk-QMGIS6GS-IYNE5lo-.js";import{b as S}from"./useIsFocusVisible-DWNmkbBi.js";function $(b){const{rootElementName:l=""}=b,[s,m]=c.useState(l.toUpperCase()),y=c.useCallback(a=>{var i;m((i=a?.tagName)!=null?i:"")},[]);return[s,y]}function j(b={}){const{disabled:l=!1,focusableWhenDisabled:s,href:m,rootRef:y,tabIndex:a,to:i,type:f,rootElementName:T}=b,p=c.useRef(null),[B,N]=c.useState(!1),{isFocusVisibleRef:E,onFocus:M,onBlur:x,ref:U}=S(),[d,g]=c.useState(!1);l&&!s&&d&&g(!1),c.useEffect(()=>{E.current=d},[d,E]);const[r,V]=$({rootElementName:T??(m||i?"a":void 0)}),K=t=>e=>{var o;d&&e.preventDefault(),(o=t.onMouseLeave)==null||o.call(t,e)},P=t=>e=>{var o;x(e),E.current===!1&&g(!1),(o=t.onBlur)==null||o.call(t,e)},I=t=>e=>{var o;if(p.current||(p.current=e.currentTarget),M(e),E.current===!0){var u;g(!0),(u=t.onFocusVisible)==null||u.call(t,e)}(o=t.onFocus)==null||o.call(t,e)},R=()=>{const t=p.current;return r==="BUTTON"||r==="INPUT"&&["button","submit","reset"].includes(t?.type)||r==="A"&&t?.href},w=t=>e=>{if(!l){var o;(o=t.onClick)==null||o.call(t,e)}},C=t=>e=>{var o;l||(N(!0),document.addEventListener("mouseup",()=>{N(!1)},{once:!0})),(o=t.onMouseDown)==null||o.call(t,e)},L=t=>e=>{var o;if((o=t.onKeyDown)==null||o.call(t,e),!e.defaultMuiPrevented&&(e.target===e.currentTarget&&!R()&&e.key===" "&&e.preventDefault(),e.target===e.currentTarget&&e.key===" "&&!l&&N(!0),e.target===e.currentTarget&&!R()&&e.key==="Enter"&&!l)){var u;(u=t.onClick)==null||u.call(t,e),e.preventDefault()}},_=t=>e=>{var o;if(e.target===e.currentTarget&&N(!1),(o=t.onKeyUp)==null||o.call(t,e),e.target===e.currentTarget&&!R()&&!l&&e.key===" "&&!e.defaultMuiPrevented){var u;(u=t.onClick)==null||u.call(t,e)}},k=v(V,y,U,p),n={};return a!==void 0&&(n.tabIndex=a),r==="BUTTON"?(n.type=f??"button",s?n["aria-disabled"]=l:n.disabled=l):r==="INPUT"?f&&["button","submit","reset"].includes(f)&&(s?n["aria-disabled"]=l:n.disabled=l):r!==""&&(!m&&!i&&(n.role="button",n.tabIndex=a??0),l&&(n["aria-disabled"]=l,n.tabIndex=s?a??0:-1)),{getRootProps:(t={})=>{const e=D({},F(b),F(t)),o=D({type:f},e,n,t,{onBlur:P(e),onClick:w(e),onFocus:I(e),onKeyDown:L(e),onKeyUp:_(e),onMouseDown:C(e),onMouseLeave:K(e),ref:k});return delete o.onFocusVisible,o},focusVisible:d,setFocusVisible:g,active:B,rootRef:k}}export{j as u};
