import{a as s,o as W}from"./chunk-QMGIS6GS-DtoyICqO.js";import{g as jo,a as Yo,u as _o,r as so,c as Jo,b as ao,s as fo,f as S,h as Vo}from"./Stack-JCjNLC7t.js";import{u as Xo}from"./useControlled-C68gA3PY.js";import{u as Ho,i as no}from"./Link-B5kWyCnV.js";import{u as lo}from"./useEventCallback-6_SerCR8.js";import{g as Ko,a as Zo}from"./Popper-DEf3PWv7.js";const io={};function qo(e,o){const r=s.useRef(io);return r.current===io&&(r.current=e(o)),r}const Go=[];function Qo(e){s.useEffect(e,Go)}class C{static create(){return new C}currentId=null;start(o,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},o)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function z(){const e=qo(C.create).current;return Qo(e.disposeEffect),e}function oe(e){return jo("MuiTooltip",e)}Yo("MuiTooltip",["root","tooltipArrow","arrow","touch","placementLeft","placementRight","placementTop","placementBottom","colorPrimary","colorDanger","colorNeutral","colorSuccess","colorWarning","colorContext","sizeSm","sizeMd","sizeLg","variantPlain","variantOutlined","variantSoft","variantSolid"]);const ee=e=>{const{arrow:o,variant:r,color:l,size:a,placement:E,touch:u}=e,v={root:["root",o&&"tooltipArrow",u&&"touch",a&&`size${S(a)}`,l&&`color${S(l)}`,r&&`variant${S(r)}`,`tooltipPlacement${S(E.split("-")[0])}`],arrow:["arrow"]};return Vo(v,oe,{})},te=fo("div",{name:"JoyTooltip",slot:"Root",overridesResolver:(e,o)=>o.root})(({ownerState:e,theme:o})=>{const r=o.variants[e.variant]?.[e.color];return{...e.size==="sm"&&{"--Icon-fontSize":o.vars.fontSize.md,"--Tooltip-arrowSize":"8px",padding:o.spacing(.25,.625)},...e.size==="md"&&{"--Icon-fontSize":o.vars.fontSize.lg,"--Tooltip-arrowSize":"10px",padding:o.spacing(.5,.75)},...e.size==="lg"&&{"--Icon-fontSize":o.vars.fontSize.xl,"--Tooltip-arrowSize":"12px",padding:o.spacing(.75,1)},zIndex:o.vars.zIndex.tooltip,borderRadius:o.vars.radius.sm,boxShadow:o.shadow.sm,wordWrap:"break-word",position:"relative",...e.disableInteractive&&{pointerEvents:"none"},...o.typography[`body-${{sm:"xs",md:"sm",lg:"md"}[e.size]}`],...r,...!r.backgroundColor&&{backgroundColor:o.vars.palette.background.surface},"&::before":{content:'""',display:"block",position:"absolute",width:e.placement?.match(/(top|bottom)/)?"100%":"calc(10px + var(--variant-borderWidth, 0px))",height:e.placement?.match(/(top|bottom)/)?"calc(10px + var(--variant-borderWidth, 0px))":"100%"},'&[data-popper-placement*="bottom"]::before':{top:0,left:0,transform:"translateY(-100%)"},'&[data-popper-placement*="left"]::before':{top:0,right:0,transform:"translateX(100%)"},'&[data-popper-placement*="right"]::before':{top:0,left:0,transform:"translateX(-100%)"},'&[data-popper-placement*="top"]::before':{bottom:0,left:0,transform:"translateY(100%)"}}}),re=fo("span",{name:"JoyTooltip",slot:"Arrow",overridesResolver:(e,o)=>o.arrow})(({theme:e,ownerState:o})=>{const r=e.variants[o.variant]?.[o.color];return{"--unstable_Tooltip-arrowRotation":0,width:"var(--Tooltip-arrowSize)",height:"var(--Tooltip-arrowSize)",boxSizing:"border-box","&::before":{content:'""',display:"block",position:"absolute",width:0,height:0,border:"calc(var(--Tooltip-arrowSize) / 2) solid",borderLeftColor:"transparent",borderBottomColor:"transparent",borderTopColor:r?.backgroundColor??e.vars.palette.background.surface,borderRightColor:r?.backgroundColor??e.vars.palette.background.surface,borderRadius:"0px 2px 0px 0px",boxShadow:`var(--variant-borderWidth, 0px) calc(-1 * var(--variant-borderWidth, 0px)) 0px 0px ${r.borderColor}`,transformOrigin:"center center",transform:"rotate(calc(-45deg + 90deg * var(--unstable_Tooltip-arrowRotation)))"},'[data-popper-placement*="bottom"] &':{top:"calc(0.5px + var(--Tooltip-arrowSize) * -1 / 2)"},'[data-popper-placement*="top"] &':{"--unstable_Tooltip-arrowRotation":2,bottom:"calc(0.5px + var(--Tooltip-arrowSize) * -1 / 2)"},'[data-popper-placement*="left"] &':{"--unstable_Tooltip-arrowRotation":1,right:"calc(0.5px + var(--Tooltip-arrowSize) * -1 / 2)"},'[data-popper-placement*="right"] &':{"--unstable_Tooltip-arrowRotation":3,left:"calc(0.5px + var(--Tooltip-arrowSize) * -1 / 2)"}}});let R=!1;const co=new C;let h={x:0,y:0};function po(e,o){return r=>{o&&o(r),e(r)}}function uo(e,o){return(r,...l)=>{o&&o(r,...l),e(r,...l)}}const pe=s.forwardRef(function(o,r){const l=_o({props:o,name:"JoyTooltip"}),{children:a,className:E,component:u,arrow:v=!1,describeChild:mo=!1,disableFocusListener:bo=!1,disableHoverListener:D=!1,disableInteractive:ho=!1,disableTouchListener:vo=!1,enterDelay:A=100,enterNextDelay:B=0,enterTouchDelay:To=700,followCursor:M=!1,id:go,leaveDelay:$=0,leaveTouchDelay:yo=1500,onClose:j,onOpen:Y,open:xo,disablePortal:wo,direction:So,keepMounted:zo,modifiers:_,placement:J="bottom",title:p,color:Ro="neutral",variant:Co="solid",size:Eo="md",slots:Mo={},slotProps:Io={},...V}=l,[d,X]=s.useState(),[I,Po]=s.useState(null),T=s.useRef(!1),P=ho||M,H=z(),k=z(),g=z(),K=z(),[ko,Z]=Xo({controlled:xo,default:!1,name:"Tooltip",state:"open"});let i=ko;const L=Ho(go),f=s.useRef(void 0),y=lo(()=>{f.current!==void 0&&(document.body.style.WebkitUserSelect=f.current,f.current=void 0),K.clear()});s.useEffect(()=>y,[y]);const q=t=>{co.clear(),R=!0,Z(!0),Y&&!i&&Y(t)},x=lo(t=>{co.start(800+$,()=>{R=!1}),Z(!1),j&&i&&j(t),H.start(150,()=>{T.current=!1})}),w=t=>{T.current&&t.type!=="touchstart"||(d&&d.removeAttribute("title"),k.clear(),g.clear(),A||R&&B?k.start(R?B:A,()=>{q(t)}):q(t))},N=t=>{k.clear(),g.start($,()=>{x(t)})},[,G]=s.useState(!1),Q=t=>{no(t.target)||(G(!1),N(t))},oo=t=>{d||X(t.currentTarget),no(t.target)&&(G(!0),w(t))},eo=t=>{T.current=!0;const c=a.props;c.onTouchStart&&c.onTouchStart(t)},Lo=t=>{eo(t),g.clear(),H.clear(),y(),f.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",K.start(To,()=>{document.body.style.WebkitUserSelect=f.current,w(t)})},No=t=>{a.props.onTouchEnd&&a.props.onTouchEnd(t),y(),g.start(yo,()=>{x(t)})};s.useEffect(()=>{if(!i)return;function t(c){c.key==="Escape"&&x(c)}return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[x,i]);const Oo=so(X,r),Fo=so(Ko(a),Oo);typeof p!="number"&&!p&&(i=!1);const O=s.useRef(null),Uo=t=>{const c=a.props;c.onMouseMove&&c.onMouseMove(t),h={x:t.clientX,y:t.clientY},O.current&&O.current.update()},m={},F=typeof p=="string";mo?(m.title=!i&&F&&!D?p:null,m["aria-describedby"]=i?L:null):(m["aria-label"]=F?p:null,m["aria-labelledby"]=i&&!F?L:null);const n={...m,...V,component:u,...a.props,className:Jo(E,a.props.className),onTouchStart:eo,ref:Fo,...M?{onMouseMove:Uo}:{}},b={};vo||(n.onTouchStart=Lo,n.onTouchEnd=No),D||(n.onMouseOver=po(w,n.onMouseOver),n.onMouseLeave=po(N,n.onMouseLeave),P||(b.onMouseOver=w,b.onMouseLeave=N)),bo||(n.onFocus=uo(oo,n.onFocus),n.onBlur=uo(Q,n.onBlur),P||(b.onFocus=oo,b.onBlur=Q));const U={...l,arrow:v,disableInteractive:P,placement:J,touch:T.current,color:Ro,variant:Co,size:Eo},to=ee(U),ro={...V,component:u,slots:Mo,slotProps:Io},Wo=s.useMemo(()=>[{name:"arrow",enabled:!!I,options:{element:I,padding:6}},{name:"offset",options:{offset:[0,10]}},..._||[]],[I,_]),[Do,Ao]=ao("root",{additionalProps:{id:L,popperRef:O,placement:J,anchorEl:M?{getBoundingClientRect:()=>({top:h.y,left:h.x,right:h.x,bottom:h.y,width:0,height:0})}:d,open:d?i:!1,disablePortal:wo,keepMounted:zo,direction:So,modifiers:Wo,...b},ref:null,className:to.root,elementType:te,externalForwardedProps:ro,ownerState:U}),[Bo,$o]=ao("arrow",{ref:Po,className:to.arrow,elementType:re,externalForwardedProps:ro,ownerState:U});return W.jsxs(s.Fragment,{children:[s.isValidElement(a)&&s.cloneElement(a,n),W.jsxs(Do,{...Ao,...!l.slots?.root&&{as:Zo,slots:{root:u||"div"}},children:[p,v?W.jsx(Bo,{...$o}):null]})]})});export{pe as T};
